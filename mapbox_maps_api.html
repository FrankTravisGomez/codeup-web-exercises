<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pizza on a map</title>

    <link href='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css' rel='stylesheet' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js'></script>

</head>
<body>
<!-- Load the `mapbox-gl-geocoder plugin. -->
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">

<div id='map' style='width: 400px; height: 300px;'></div>
<script>
    let myToken = 'pk.eyJ1IjoidHJhdmlzY29kZXVwIiwiYSI6ImNsZjJzdm5pNDBsaGgzcmxoYWNueHlkcnQifQ.0xOFa6MG7IZFECJVLYQOZQ';

    mapboxgl.accessToken = myToken;

    //javascript map cords 29.626185451652596, -98.4949673897373
    const map = new mapboxgl.Map(
        {
            container: 'map', // container ID
            style: 'mapbox://styles/mapbox/outdoors-v12', //  URL to make it look cool
            center: [-98.4949673897373, 29.626185451652596], // positioning lng, lat goes inside []
            zoom: 15,
        }
    );


    //javaScript object mapboxgl.Marker() setProperties()
    // marker 1 raising cane's 29.623531231587773, -98.49424040099139
    let myMarker = new mapboxgl.Marker();
    myMarker.setLngLat([-98.49424040099139, 29.623531231587773]);
    myMarker.addTo(map);
    // pop up for raising cane's
    let myPopup1 = new mapboxgl.Popup();
    myPopup1.setLngLat([-98.49424040099139, 29.623531231587773])
    myPopup1.setHTML("<span>Raising cane's</span>")
    myMarker.setPopup(myPopup1);


    //trilogy pizza coords: 29.625709058328056, -98.49592925177035

    //marker 2 trilogy pizza
    let myMarker2 = new mapboxgl.Marker();
    myMarker2.setLngLat([-98.49592925177035, 29.625709058328056]);
    myMarker2.addTo(map);
    //pop up for trilogy pizza
    let myPopup = new mapboxgl.Popup();
    myPopup.setLngLat([-98.49592925177035, 29.625709058328056])
    myPopup.setHTML("<span>Trilogy Pizza</span>")
    myMarker2.setPopup(myPopup);


    // not sure what im doing trying to follow the Mapbox Maps API reading material
    geocode("San Antonio", myToken).then(function(results){
        console.log("Geocode result");
        console.log(results);
    })
    // trilogy pizza
    reverseGeocode({lat: 29.625709058328056, lng: -98.49592925177035}, myToken).then(function(results){
        console.log("Reverse Geocode results");
        console.log(results);
    })


    // restaurant in OR address 13000 SW century Dr, Bend, OR 97703, an attempt at the fly to mechanic

    geocode("13000 SW century Dr, Bend, OR 97703", myToken).then(function(results){
        console.log(results);
        let myMarker3 = new mapboxgl.Marker();
        myMarker3.setLngLat(results);
        myMarker3.addTo(map);

        let object = {center: results, zoom: 15};

        map.flyTo(object);

        console.log(object);
    })

</script>
</body>
</html>