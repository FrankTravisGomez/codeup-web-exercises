<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pizza on a map</title>

    <link href='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css' rel='stylesheet' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js'></script>

</head>
<body>
<!-- Load the `mapbox-gl-geocoder plugin. -->
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">

<div id='map' style='width: 400px; height: 300px;'></div>
<script>
    let myToken = 'pk.eyJ1IjoidHJhdmlzY29kZXVwIiwiYSI6ImNsZjJzdm5pNDBsaGgzcmxoYWNueHlkcnQifQ.0xOFa6MG7IZFECJVLYQOZQ';

    mapboxgl.accessToken = myToken;

    //javascript map cords 29.626185451652596, -98.4949673897373
    const map = new mapboxgl.Map(
        {
            container: 'map', // container ID
            style: 'mapbox://styles/mapbox/dark-v11', //  URL to make it look cool
            center: [-98.4949673897373, 29.626185451652596], // positioning lng, lat goes inside []
            zoom: 15,
        }
    );


    //javaScript object mapboxgl.Marker() setProperties()
    // marker 1 raising cane's 29.623531231587773, -98.49424040099139
    // let myMarker = new mapboxgl.Marker();
    // myMarker.setLngLat([-98.49424040099139, 29.623531231587773]);
    // myMarker.addTo(map);
    // // pop up for raising cane's
    // let myPopup1 = new mapboxgl.Popup();
    // myPopup1.setLngLat([-98.49424040099139, 29.623531231587773])
    // myPopup1.setHTML("<span>Raising cane's</span>")
    // myMarker.setPopup(myPopup1);


    //trilogy pizza coords: 29.625709058328056, -98.49592925177035

    //marker 2 trilogy pizza
    // let myMarker2 = new mapboxgl.Marker();
    // myMarker2.setLngLat([-98.49592925177035, 29.625709058328056]);
    // myMarker2.addTo(map);
    // //pop up for trilogy pizza
    // let myPopup = new mapboxgl.Popup();
    // myPopup.setLngLat([-98.49592925177035, 29.625709058328056])
    // myPopup.setHTML("<span>Trilogy Pizza</span>")
    // myMarker2.setPopup(myPopup);



    //Boiler House at the Pearl 29.44209860378116, -98.48061313165401

    //marker 3 Boiler House at the Pearl
    // let myMarker3 = new mapboxgl.Marker();
    // myMarker3.setLngLat([-98.48061313165401, 29.44209860378116]);
    // myMarker3.addTo(map);
    //
    // let myPopup2 = new mapboxgl.Popup();
    // myPopup2.setLngLat([-98.48061313165401, 29.44209860378116])
    // myPopup2.setHTML("<span>Boiler House at the Pearl</span>")
    // myMarker3.setPopup(myPopup2);


    // Array with foreach loop
    const testArray= [{
        name: "raising cane's",
        location:[-98.49424040099139, 29.623531231587773],
        review: 'best chicken on this side of town',
    },{
        name: "trilogy pizza",
        location: [-98.49592925177035, 29.625709058328056],
        review:"almost like chicago but not as good",
    },{
        name: "Boiler House at the Pearl",
        location: [-98.48061313165401, 29.44209860378116],
        review: "fany place for them fancy people",
    }
    ];
    testArray.forEach(place => {
        const marker = new mapboxgl.Marker()
        .setLngLat(place.location)
        .addTo(map);
        const popup = new mapboxgl.Popup()
        setHTML(`<p>${place.name} - ${place.review}</p>`)
        marker.setPopup(popup);
    });

    // var setLocal = [{
    //     address: "19141 Stone Oak Pkwy #113, San Antonio, tx",
    //     popupHTML: '<div><p>good pizza</p></div>'
    // }];
    // function goodPlaces(add, pop){
    //     add.forEach(function(info){
    //
    //     })
    // }


    // geocode("19141 Stone Oak Pkwy #113, San Antonio, TX 78258", myToken).then(function(results){
    //     console.log("Geocode result");
    //     console.log(results);
    // })
    // trilogy pizza in reverse
    // reverseGeocode({lat: 29.625709058328056, lng: -98.49592925177035}, myToken).then(function(results){
    //     console.log("Reverse Geocode results");
    //     console.log(results);
    // })

    // geocode("312 Pearl Pkwy Building 3, San Antonio, TX 78215", myToken).then(function(results){
    //     console.log("Geocode result");
    //     console.log(results);
    // })

    // let food = "";
    // const rest = [-98.48061313165401, 29.44209860378116];
    // rest.forEach(newFunction);
    //
    // document.getElementById("map").innerHTML = text;
    // function newFunction(place){
    //     text += place
    // }

</script>
</body>
</html>